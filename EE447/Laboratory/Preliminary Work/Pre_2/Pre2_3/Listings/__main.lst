


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         
    3 00000000 00000010 
                       OFFSET  EQU              0x10
    4 00000000 20000480 
                       FIRST   EQU              0x20000480
    5 00000000 20000400 
                       STORE   EQU              0x20000400
    6 00000000 400053FC 
                       GPIO_PORTB_DATA
                               EQU              0x400053FC
    7 00000000 40005400 
                       GPIO_PORTB_DIR
                               EQU              0x40005400
    8 00000000 40005420 
                       GPIO_PORTB_AFSEL
                               EQU              0x40005420
    9 00000000 4000551C 
                       GPIO_PORTB_DEN
                               EQU              0x4000551C
   10 00000000 40005510 
                       GPIO_PORTB_PUR
                               EQU              0x40005510
   11 00000000 40005514 
                       GPIO_PORTB_PDR
                               EQU              0x40005514
   12 00000000 000000F0 
                       IOB     EQU              0xF0
   13 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608
   14 00000000         
   15 00000000         
   16 00000000         
   17 00000000                 AREA             sdata, DATA, READONLY
   18 00000000                 THUMB
   19 00000000 10      CTR1    DCB              0x10
   20 00000001 43 6F 70 
              79 69 6E 
              67 20 74 
              61 62 6C 
              65 2E 2E 
              2E       MSG     DCB              "Copying table..."
   21 00000011 0D              DCB              0x0D
   22 00000012 04              DCB              0x04
   23 00000013         ;*******************************************************
                       ********
   24 00000013         ; Program section           
   25 00000013         ;*******************************************************
                       ********
   26 00000013         ;LABEL  DIRECTIVE VALUE  COMMENT
   27 00000013                 AREA             main, READONLY, CODE
   28 00000000                 THUMB
   29 00000000                 EXTERN           OutStr      ; Reference externa
                                                            l subroutine 
   30 00000000                 EXTERN           InChar      ; Serial input Adde
                                                            d
   31 00000000                 EXTERN           DELAY       ;
   32 00000000                 EXTERN           CONVRT



ARM Macro Assembler    Page 2 


   33 00000000                 EXPORT           __main      ; Make available
   34 00000000         
   35 00000000         __main
   36 00000000 4964    Start   LDR              R1 , =SYSCTL_RCGCGPIO
   37 00000002 6808            LDR              R0 , [ R1 ]
   38 00000004 F040 0002       ORR              R0 , R0 , #0x2 ;Port B clock en
                                                            abled
   39 00000008 6008            STR              R0 , [ R1 ]
   40 0000000A BF00            NOP                          ;Wait for clock to 
                                                            stabilize
   41 0000000C BF00            NOP
   42 0000000E BF00            NOP
   43 00000010 4961            LDR              R1 , =GPIO_PORTB_DIR ; 
   44 00000012 6808            LDR              R0 , [ R1 ]
   45 00000014 F020 00FF       BIC              R0 , #0xFF
   46 00000018 F040 00F0       ORR              R0 , #IOB
   47 0000001C 6008            STR              R0 , [ R1 ]
   48 0000001E 495F            LDR              R1 , =GPIO_PORTB_AFSEL
   49 00000020 6808            LDR              R0 , [ R1 ]
   50 00000022 F020 00FF       BIC              R0 , #0xFF
   51 00000026 6008            STR              R0 , [ R1 ]
   52 00000028 495D            LDR              R1 , =GPIO_PORTB_DEN
   53 0000002A 6808            LDR              R0 , [ R1 ]
   54 0000002C F040 00FF       ORR              R0 , #0xFF
   55 00000030 6008            STR              R0 , [ R1 ]
   56 00000032 495C            LDR              R1 , =GPIO_PORTB_PUR
   57 00000034 6808            LDR              R0 , [ R1 ]
   58 00000036 F040 000F       ORR              R0 , #0x0F
   59 0000003A 6008            STR              R0 , [ R1 ]
   60 0000003C         
   61 0000003C 495A    Begin   LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
   62 0000003E F04F 0000       MOV              R0,#0x00
   63 00000042 6008            STR              R0,[R1]     ; All outputs GND
   64 00000044 F04F 0200       MOV              R2,#0       ;  R2 is the switch
                                                             ID
   65 00000048         LOOP
   66 00000048 4957            LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
   67 0000004A F240 05E0 
              F2C0 0500        MOV32            R5,#0xE0
   68 00000052 600D            STR              R5,[R1]     ; All outputs GND
   69 00000054 4954            LDR              R1,=GPIO_PORTB_DATA
   70 00000056 680A            LDR              R2, [R1]
   71 00000058 F002 020F       AND              R2, #0xF
   72 0000005C 2A0F            CMP              R2, #0xF
   73 0000005E D019            BEQ              LOOP2
   74 00000060 F247 1000 
              F2C0 0002        MOV32            R0, #160000
   75 00000068 F7FF FFFE       BL               DELAY
   76 0000006C 494E            LDR              R1,=GPIO_PORTB_DATA
   77 0000006E 680B            LDR              R3, [R1]
   78 00000070 F003 030F       AND              R3, #0xF
   79 00000074 429A            CMP              R2, R3
   80 00000076 D1E7            BNE              LOOP
   81 00000078 4415            ADD              R5, R5, R2
   82 0000007A 2DEE            CMP              R5, #0xEE
   83 0000007C BF08 2400       MOVEQ            R4, #0
   84 00000080 2DED            CMP              R5, #0xED



ARM Macro Assembler    Page 3 


   85 00000082 BF08 2401       MOVEQ            R4, #1
   86 00000086 2DEB            CMP              R5, #0xEB
   87 00000088 BF08 2402       MOVEQ            R4, #2
   88 0000008C 2DE7            CMP              R5, #0xE7
   89 0000008E BF08 2403       MOVEQ            R4, #3
   90 00000092 E071            B                RELEASE
   91 00000094         LOOP2
   92 00000094 4944            LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
   93 00000096 F240 05D0 
              F2C0 0500        MOV32            R5,#0xD0
   94 0000009E 600D            STR              R5,[R1]     ; All outputs GND
   95 000000A0 4941            LDR              R1,=GPIO_PORTB_DATA
   96 000000A2 680A            LDR              R2, [R1]
   97 000000A4 F002 020F       AND              R2, #0xF
   98 000000A8 2A0F            CMP              R2, #0xF
   99 000000AA D019            BEQ              LOOP3
  100 000000AC F247 1000 
              F2C0 0002        MOV32            R0, #160000
  101 000000B4 F7FF FFFE       BL               DELAY
  102 000000B8 493B            LDR              R1,=GPIO_PORTB_DATA
  103 000000BA 680B            LDR              R3, [R1]
  104 000000BC F003 030F       AND              R3, #0xF
  105 000000C0 429A            CMP              R2, R3
  106 000000C2 D1E7            BNE              LOOP2
  107 000000C4 4415            ADD              R5, R5, R2
  108 000000C6 2DDE            CMP              R5, #0xDE
  109 000000C8 BF08 2404       MOVEQ            R4, #4
  110 000000CC 2DDD            CMP              R5, #0xDD
  111 000000CE BF08 2405       MOVEQ            R4, #5
  112 000000D2 2DDB            CMP              R5, #0xDB
  113 000000D4 BF08 2406       MOVEQ            R4, #6
  114 000000D8 2DD7            CMP              R5, #0xD7
  115 000000DA BF08 2407       MOVEQ            R4, #7
  116 000000DE E04B            B                RELEASE
  117 000000E0         LOOP3
  118 000000E0 4931            LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
  119 000000E2 F240 05B0 
              F2C0 0500        MOV32            R5,#0xB0
  120 000000EA 600D            STR              R5,[R1]     ; All outputs GND
  121 000000EC 492E            LDR              R1,=GPIO_PORTB_DATA
  122 000000EE 680A            LDR              R2, [R1]
  123 000000F0 F002 020F       AND              R2, #0xF
  124 000000F4 2A0F            CMP              R2, #0xF
  125 000000F6 D019            BEQ              LOOP4
  126 000000F8 F247 1000 
              F2C0 0002        MOV32            R0, #160000
  127 00000100 F7FF FFFE       BL               DELAY
  128 00000104 4928            LDR              R1,=GPIO_PORTB_DATA
  129 00000106 680B            LDR              R3, [R1]
  130 00000108 F003 030F       AND              R3, #0xF
  131 0000010C 429A            CMP              R2, R3
  132 0000010E D1E7            BNE              LOOP3
  133 00000110 4415            ADD              R5, R5, R2
  134 00000112 2DBE            CMP              R5, #0xBE
  135 00000114 BF08 2408       MOVEQ            R4, #8
  136 00000118 2DBD            CMP              R5, #0xBD
  137 0000011A BF08 2409       MOVEQ            R4, #9



ARM Macro Assembler    Page 4 


  138 0000011E 2DBB            CMP              R5, #0xBB
  139 00000120 BF08 240A       MOVEQ            R4, #10
  140 00000124 2DB7            CMP              R5, #0xB7
  141 00000126 BF08 240B       MOVEQ            R4, #11
  142 0000012A E025            B                RELEASE
  143 0000012C         
  144 0000012C         LOOP4
  145 0000012C 491E            LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
  146 0000012E F240 0570 
              F2C0 0500        MOV32            R5,#0x70
  147 00000136 600D            STR              R5,[R1]     ; All outputs GND
  148 00000138 491B            LDR              R1,=GPIO_PORTB_DATA
  149 0000013A 680A            LDR              R2, [R1]
  150 0000013C F002 020F       AND              R2, #0xF
  151 00000140 2A0F            CMP              R2, #0xF
  152 00000142 D081            BEQ              LOOP
  153 00000144 F247 1000 
              F2C0 0002        MOV32            R0, #160000
  154 0000014C F7FF FFFE       BL               DELAY
  155 00000150 4915            LDR              R1,=GPIO_PORTB_DATA
  156 00000152 680B            LDR              R3, [R1]
  157 00000154 F003 030F       AND              R3, #0xF
  158 00000158 429A            CMP              R2, R3
  159 0000015A D1E7            BNE              LOOP4
  160 0000015C 4415            ADD              R5, R5, R2
  161 0000015E 2D7E            CMP              R5, #0x7E
  162 00000160 BF08 240C       MOVEQ            R4, #12
  163 00000164 2D7D            CMP              R5, #0x7D
  164 00000166 BF08 240D       MOVEQ            R4, #13
  165 0000016A 2D7B            CMP              R5, #0x7B
  166 0000016C BF08 240E       MOVEQ            R4, #14
  167 00000170 2D77            CMP              R5, #0x77
  168 00000172 BF08 240F       MOVEQ            R4, #15
  169 00000176 E7FF            B                RELEASE
  170 00000178         
  171 00000178         RELEASE
  172 00000178 490B            LDR              R1,=GPIO_PORTB_DATA
  173 0000017A 680A            LDR              R2, [R1]
  174 0000017C F002 020F       AND              R2, #0xF
  175 00000180 2A0F            CMP              R2, #0xF
  176 00000182 D000            BEQ              OUTPUT
  177 00000184 E7F8            B                RELEASE
  178 00000186         OUTPUT
  179 00000186         
  180 00000186 4D09            LDR              R5, =STORE
  181 00000188 F7FF FFFE       BL               CONVRT
  182 0000018C 4D07            LDR              R5, =STORE
  183 0000018E F7FF FFFE       BL               OutStr
  184 00000192         
  185 00000192         
  186 00000192 00 00           ALIGN
  187 00000194                 END
              400FE608 
              40005400 
              40005420 
              4000551C 
              40005510 
              400053FC 



ARM Macro Assembler    Page 5 


              20000400 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\__main.d -o.\objects\__main.o -I.\RTE\_Target_1 -IC:\
Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\ARM\CM
SIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526
" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\__main.lst __main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CTR1 00000000

Symbol: CTR1
   Definitions
      At line 19 in file __main.s
   Uses
      None
Comment: CTR1 unused
MSG 00000001

Symbol: MSG
   Definitions
      At line 20 in file __main.s
   Uses
      None
Comment: MSG unused
sdata 00000000

Symbol: sdata
   Definitions
      At line 17 in file __main.s
   Uses
      None
Comment: sdata unused
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Begin 0000003C

Symbol: Begin
   Definitions
      At line 61 in file __main.s
   Uses
      None
Comment: Begin unused
LOOP 00000048

Symbol: LOOP
   Definitions
      At line 65 in file __main.s
   Uses
      At line 80 in file __main.s
      At line 152 in file __main.s

LOOP2 00000094

Symbol: LOOP2
   Definitions
      At line 91 in file __main.s
   Uses
      At line 73 in file __main.s
      At line 106 in file __main.s

LOOP3 000000E0

Symbol: LOOP3
   Definitions
      At line 117 in file __main.s
   Uses
      At line 99 in file __main.s
      At line 132 in file __main.s

LOOP4 0000012C

Symbol: LOOP4
   Definitions
      At line 144 in file __main.s
   Uses
      At line 125 in file __main.s
      At line 159 in file __main.s

OUTPUT 00000186

Symbol: OUTPUT
   Definitions
      At line 178 in file __main.s
   Uses
      At line 176 in file __main.s
Comment: OUTPUT used once
RELEASE 00000178

Symbol: RELEASE
   Definitions
      At line 171 in file __main.s
   Uses
      At line 90 in file __main.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 116 in file __main.s
      At line 142 in file __main.s
      At line 169 in file __main.s
      At line 177 in file __main.s

Start 00000000

Symbol: Start
   Definitions
      At line 36 in file __main.s
   Uses
      None
Comment: Start unused
__main 00000000

Symbol: __main
   Definitions
      At line 35 in file __main.s
   Uses
      At line 33 in file __main.s
Comment: __main used once
main 00000000

Symbol: main
   Definitions
      At line 27 in file __main.s
   Uses
      None
Comment: main unused
10 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FIRST 20000480

Symbol: FIRST
   Definitions
      At line 4 in file __main.s
   Uses
      None
Comment: FIRST unused
GPIO_PORTB_AFSEL 40005420

Symbol: GPIO_PORTB_AFSEL
   Definitions
      At line 8 in file __main.s
   Uses
      At line 48 in file __main.s
Comment: GPIO_PORTB_AFSEL used once
GPIO_PORTB_DATA 400053FC

Symbol: GPIO_PORTB_DATA
   Definitions
      At line 6 in file __main.s
   Uses
      At line 61 in file __main.s
      At line 66 in file __main.s
      At line 69 in file __main.s
      At line 76 in file __main.s
      At line 92 in file __main.s
      At line 95 in file __main.s
      At line 102 in file __main.s
      At line 118 in file __main.s
      At line 121 in file __main.s
      At line 128 in file __main.s
      At line 145 in file __main.s
      At line 148 in file __main.s
      At line 155 in file __main.s
      At line 172 in file __main.s

GPIO_PORTB_DEN 4000551C

Symbol: GPIO_PORTB_DEN
   Definitions
      At line 9 in file __main.s
   Uses
      At line 52 in file __main.s
Comment: GPIO_PORTB_DEN used once
GPIO_PORTB_DIR 40005400

Symbol: GPIO_PORTB_DIR
   Definitions
      At line 7 in file __main.s
   Uses
      At line 43 in file __main.s
Comment: GPIO_PORTB_DIR used once
GPIO_PORTB_PDR 40005514

Symbol: GPIO_PORTB_PDR
   Definitions
      At line 11 in file __main.s
   Uses



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

      None
Comment: GPIO_PORTB_PDR unused
GPIO_PORTB_PUR 40005510

Symbol: GPIO_PORTB_PUR
   Definitions
      At line 10 in file __main.s
   Uses
      At line 56 in file __main.s
Comment: GPIO_PORTB_PUR used once
IOB 000000F0

Symbol: IOB
   Definitions
      At line 12 in file __main.s
   Uses
      At line 46 in file __main.s
Comment: IOB used once
OFFSET 00000010

Symbol: OFFSET
   Definitions
      At line 3 in file __main.s
   Uses
      None
Comment: OFFSET unused
STORE 20000400

Symbol: STORE
   Definitions
      At line 5 in file __main.s
   Uses
      At line 180 in file __main.s
      At line 182 in file __main.s

SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 13 in file __main.s
   Uses
      At line 36 in file __main.s
Comment: SYSCTL_RCGCGPIO used once
11 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

CONVRT 00000000

Symbol: CONVRT
   Definitions
      At line 32 in file __main.s
   Uses
      At line 181 in file __main.s
Comment: CONVRT used once
DELAY 00000000

Symbol: DELAY
   Definitions
      At line 31 in file __main.s
   Uses
      At line 75 in file __main.s
      At line 101 in file __main.s
      At line 127 in file __main.s
      At line 154 in file __main.s

InChar 00000000

Symbol: InChar
   Definitions
      At line 30 in file __main.s
   Uses
      None
Comment: InChar unused
OutStr 00000000

Symbol: OutStr
   Definitions
      At line 29 in file __main.s
   Uses
      At line 183 in file __main.s
Comment: OutStr used once
4 symbols
364 symbols in table
