


ARM Macro Assembler    Page 1 


    1 00000000 400053FC 
                       GPIO_PORTB_DATA
                               EQU              0x400053FC
    2 00000000                 AREA             rutins , CODE, READONLY
    3 00000000                 THUMB
    4 00000000                 EXPORT           inputcheck
    5 00000000                 EXTERN           SignalSend  ;
    6 00000000                 EXTERN           SysTick_Handler ; Input Check i
                                                            s available
    7 00000000                 EXTERN           Init_Timer
    8 00000000                 EXTERN           delay       ;
    9 00000000                 EXTERN           __main
   10 00000000         inputcheck
                               PROC
   11 00000000         
   12 00000000 4916    Check   LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1   
   13 00000002 F04F 0200       MOV              R2,#0       ; R2 holds the info
                                                            rmation cw or ccw
   14 00000006 6808            LDR              R0,[R1]     ;Checks for any inp
                                                            ut
   15 00000008 EA4F 1010       LSR              R0,#4       ;
   16 0000000C 0840            LSRS             R0,#1       ;
   17 0000000E D302            BCC              Delay100
   18 00000010 0840            LSRS             R0,#1       ;
   19 00000012 D300            BCC              Delay100
   20 00000014 E7F4            B                Check
   21 00000016 F247 1000 
              F2C0 0002 
                       Delay100
                               MOV32            R0,#160000  ;If any input is de
                                                            tected
   22 0000001E B500            PUSH{LR}
   23 00000020 F7FF FFFE       BL               delay
   24 00000024 F85D EB04       POP{LR}
   25 00000028 6808            LDR              R0,[R1]     ; Check Again
   26 0000002A EA4F 1010       LSR              R0,#4       ;
   27 0000002E 0840            LSRS             R0,#1       ;
   28 00000030 BF38 2201       MOVCC            R2,#1       ; 1 is the cw direc
                                                            tion PB4 pressed
   29 00000034 D304            BCC              Released    ; If input is detec
                                                            ted again wait for 
                                                            relase
   30 00000036 0840            LSRS             R0,#1       ;
   31 00000038 BF38 2202       MOVCC            R2,#2       ; 2 is the ccw dire
                                                            ction PB5 pressed
   32 0000003C D300            BCC              Released
   33 0000003E E7DF            B                Check
   34 00000040         
   35 00000040         
   36 00000040 6808    Released
                               LDR              R0,[R1]     ; It checks for if 
                                                            the switch is open 
                                                            again
   37 00000042 EA4F 1010       LSR              R0,#4       ;
   38 00000046 0840            LSRS             R0,#1       ;
   39 00000048 D3FA            BCC              Released    ; If it is not open
                                                            
   40 0000004A 0840            LSRS             R0,#1       ;



ARM Macro Assembler    Page 2 


   41 0000004C D3F8            BCC              Released    ;
   42 0000004E E7FF            B                CHANGE
   43 00000050         
   44 00000050 F04F 0400 
                       CHANGE  MOV              R4, #0
   45 00000054 4414            ADD              R4, R2
   46 00000056 F7FF FFFE       BL               Init_Timer
   47 0000005A E7D1            B                Check
   48 0000005C                 ALIGN
   49 0000005C                 ENDP
   50 0000005C                 END
              400053FC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\inputcheck.d -o.\objects\inputcheck.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v
5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\inputcheck.lst in
putcheck.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CHANGE 00000050

Symbol: CHANGE
   Definitions
      At line 44 in file inputcheck.s
   Uses
      At line 42 in file inputcheck.s
Comment: CHANGE used once
Check 00000000

Symbol: Check
   Definitions
      At line 12 in file inputcheck.s
   Uses
      At line 20 in file inputcheck.s
      At line 33 in file inputcheck.s
      At line 47 in file inputcheck.s

Delay100 00000016

Symbol: Delay100
   Definitions
      At line 21 in file inputcheck.s
   Uses
      At line 17 in file inputcheck.s
      At line 19 in file inputcheck.s

Released 00000040

Symbol: Released
   Definitions
      At line 36 in file inputcheck.s
   Uses
      At line 29 in file inputcheck.s
      At line 32 in file inputcheck.s
      At line 39 in file inputcheck.s
      At line 41 in file inputcheck.s

inputcheck 00000000

Symbol: inputcheck
   Definitions
      At line 10 in file inputcheck.s
   Uses
      At line 4 in file inputcheck.s
Comment: inputcheck used once
rutins 00000000

Symbol: rutins
   Definitions
      At line 2 in file inputcheck.s
   Uses
      None
Comment: rutins unused
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTB_DATA 400053FC

Symbol: GPIO_PORTB_DATA
   Definitions
      At line 1 in file inputcheck.s
   Uses
      At line 12 in file inputcheck.s
Comment: GPIO_PORTB_DATA used once
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Init_Timer 00000000

Symbol: Init_Timer
   Definitions
      At line 7 in file inputcheck.s
   Uses
      At line 46 in file inputcheck.s
Comment: Init_Timer used once
SignalSend 00000000

Symbol: SignalSend
   Definitions
      At line 5 in file inputcheck.s
   Uses
      None
Comment: SignalSend unused
SysTick_Handler 00000000

Symbol: SysTick_Handler
   Definitions
      At line 6 in file inputcheck.s
   Uses
      None
Comment: SysTick_Handler unused
__main 00000000

Symbol: __main
   Definitions
      At line 9 in file inputcheck.s
   Uses
      None
Comment: __main unused
delay 00000000

Symbol: delay
   Definitions
      At line 8 in file inputcheck.s
   Uses
      At line 23 in file inputcheck.s
Comment: delay used once
5 symbols
348 symbols in table
