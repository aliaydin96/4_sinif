


ARM Macro Assembler    Page 1 


    1 00000000 400053FC 
                       GPIO_PORTB_DATA
                               EQU              0x400053FC
    2 00000000         
    3 00000000                 AREA             rutins , CODE, READONLY
    4 00000000                 THUMB
    5 00000000                 EXPORT           CheckInput  ;
    6 00000000                 EXTERN           delay       ;
    7 00000000         CheckInput
                               PROC
    8 00000000 4913            LDR              R1,=GPIO_PORTB_DATA ; Data addr
                                                            ess in R1
    9 00000002 F04F 0200       MOV              R2,#0       ; R2 holds the info
                                                            rmation cw or ccw
   10 00000006 6808    Check   LDR              R0,[R1]     ;Checks for any inp
                                                            ut
   11 00000008 EA4F 1010       LSR              R0,#4       ;
   12 0000000C 0840            LSRS             R0,#1       ;
   13 0000000E D302            BCC              Delay100
   14 00000010 0840            LSRS             R0,#1       ;
   15 00000012 D300            BCC              Delay100
   16 00000014 E7F7            B                Check
   17 00000016 F247 1000 
              F2C0 0002 
                       Delay100
                               MOV32            R0,#160000  ;If any input is de
                                                            tected
   18 0000001E B500            PUSH{LR}
   19 00000020 F7FF FFFE       BL               delay
   20 00000024 F85D EB04       POP{LR}
   21 00000028 6808            LDR              R0,[R1]     ; Check Again
   22 0000002A EA4F 1010       LSR              R0,#4       ;
   23 0000002E 0840            LSRS             R0,#1       ;
   24 00000030 BF38 2201       MOVCC            R2,#1       ; 1 is the cw direc
                                                            tion PB4 pressed
   25 00000034 D304            BCC              Released    ; If input is detec
                                                            ted again wait for 
                                                            relase
   26 00000036 0840            LSRS             R0,#1       ;
   27 00000038 BF38 2202       MOVCC            R2,#2       ; 2 is the ccw dire
                                                            ction PB5 pressed
   28 0000003C D300            BCC              Released
   29 0000003E 4770            BX               LR          ; if no signal
   30 00000040         
   31 00000040         
   32 00000040 6808    Released
                               LDR              R0,[R1]     ; It checks for if 
                                                            the switch is open 
                                                            again
   33 00000042 EA4F 1010       LSR              R0,#4       ;
   34 00000046 0840            LSRS             R0,#1       ;
   35 00000048 D3FA            BCC              Released    ; If it is not open
                                                            
   36 0000004A 0840            LSRS             R0,#1       ;
   37 0000004C D3F8            BCC              Released    ;
   38 0000004E 4770            BX               LR          ; end
   39 00000050         
   40 00000050                 ALIGN
   41 00000050                 ENDP



ARM Macro Assembler    Page 2 


   42 00000050                 END
              400053FC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\inputcheck.d -o.\objects\inputcheck.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v
5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\inputcheck.lst in
putcheck.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Check 00000006

Symbol: Check
   Definitions
      At line 10 in file inputcheck.s
   Uses
      At line 16 in file inputcheck.s
Comment: Check used once
CheckInput 00000000

Symbol: CheckInput
   Definitions
      At line 7 in file inputcheck.s
   Uses
      At line 5 in file inputcheck.s
Comment: CheckInput used once
Delay100 00000016

Symbol: Delay100
   Definitions
      At line 17 in file inputcheck.s
   Uses
      At line 13 in file inputcheck.s
      At line 15 in file inputcheck.s

Released 00000040

Symbol: Released
   Definitions
      At line 32 in file inputcheck.s
   Uses
      At line 25 in file inputcheck.s
      At line 28 in file inputcheck.s
      At line 35 in file inputcheck.s
      At line 37 in file inputcheck.s

rutins 00000000

Symbol: rutins
   Definitions
      At line 3 in file inputcheck.s
   Uses
      None
Comment: rutins unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTB_DATA 400053FC

Symbol: GPIO_PORTB_DATA
   Definitions
      At line 1 in file inputcheck.s
   Uses
      At line 8 in file inputcheck.s
Comment: GPIO_PORTB_DATA used once
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

delay 00000000

Symbol: delay
   Definitions
      At line 6 in file inputcheck.s
   Uses
      At line 19 in file inputcheck.s
Comment: delay used once
1 symbol
343 symbols in table
