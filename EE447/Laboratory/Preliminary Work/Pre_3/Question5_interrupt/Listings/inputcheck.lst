


ARM Macro Assembler    Page 1 


    1 00000000 400053FC 
                       GPIO_PORTB_DATA
                               EQU              0x400053FC
    2 00000000 4000541C 
                       GPIO_PORTB_ICR
                               EQU              0x4000541C
    3 00000000 40005414 
                       GPIO_PORTB_RIS
                               EQU              0x40005414
    4 00000000 E000E010 
                       SYSCTRL EQU              0xE000E010
    5 00000000                 AREA             rutins , CODE, READONLY
    6 00000000                 THUMB
    7 00000000                 EXPORT           SysTick_Handler ;GPIOPortB_Hand
                                                            ler ;
    8 00000000                 EXTERN           SignalSend  ; GPIO signal send
    9 00000000                 EXTERN           delay       ;
   10 00000000                 EXTERN           Init_Timer
   11 00000000         SysTick_Handler
                               PROC
   12 00000000 B500            PUSH             {LR}
   13 00000002 4944            LDR              R1,=GPIO_PORTB_DATA
   14 00000004 F244 2740 
              F2C0 070F        MOV32            R7, #1000000
   15 0000000C         
   16 0000000C F04F 0500 
                       Check   MOV              R5, #0
   17 00000010 444D            ADD              R5, R9
   18 00000012 6808            LDR              R0,[R1]     ;Checks for any inp
                                                            ut
   19 00000014 EA4F 1010       LSR              R0,#4       ;
   20 00000018 0840            LSRS             R0,#1       ;
   21 0000001A D30A            BCC              Delay100
   22 0000001C 0840            LSRS             R0,#1       ;
   23 0000001E D308            BCC              Delay100
   24 00000020 0840            LSRS             R0,#1       ;
   25 00000022 D306            BCC              Delay100
   26 00000024 0840            LSRS             R0,#1       ;
   27 00000026 D304            BCC              Delay100
   28 00000028 2D01            CMP              R5, #1
   29 0000002A D032            BEQ              CW
   30 0000002C 2D02            CMP              R5, #2
   31 0000002E D03B            BEQ              CCW
   32 00000030 E7EC            B                Check
   33 00000032 F247 1000 
              F2C0 0002 
                       Delay100
                               MOV32            R0,#160000  ;If any input is de
                                                            tected
   34 0000003A B500            PUSH{LR}
   35 0000003C F7FF FFFE       BL               delay
   36 00000040 F85D EB04       POP{LR}
   37 00000044 6808            LDR              R0,[R1]     ; Check Again
   38 00000046 EA4F 1010       LSR              R0,#4       ;
   39 0000004A 0840            LSRS             R0,#1       ;
   40 0000004C BF38 2501       MOVCC            R5,#1       ; 1 is the cw direc
                                                            tion PB4 pressed
   41 00000050 D30C            BCC              Released    ; If input is detec
                                                            ted again wait for 



ARM Macro Assembler    Page 2 


                                                            relase
   42 00000052 0840            LSRS             R0,#1       ;
   43 00000054 BF38 2502       MOVCC            R5,#2       ; 2 is the ccw dire
                                                            ction PB5 pressed
   44 00000058 D308            BCC              Released
   45 0000005A 0840            LSRS             R0,#1       ;
   46 0000005C BF38 2503       MOVCC            R5,#3       ; 3 is the speed-up
                                                             direction PB6 pres
                                                            sed
   47 00000060 D304            BCC              Released    ; If input is detec
                                                            ted again wait for 
                                                            relase
   48 00000062 0840            LSRS             R0,#1       ;
   49 00000064 BF38 2504       MOVCC            R5,#4       ; 4 is the speed-do
                                                            wn direction PB7 pr
                                                            essed
   50 00000068 D300            BCC              Released
   51 0000006A E7CF            B                Check       ; if no signal
   52 0000006C         
   53 0000006C         
   54 0000006C 6808    Released
                               LDR              R0,[R1]     ; It checks for if 
                                                            the switch is open 
                                                            again
   55 0000006E EA4F 1010       LSR              R0,#4       ;
   56 00000072 0840            LSRS             R0,#1       ;
   57 00000074 D3FA            BCC              Released    ; If it is not open
                                                            
   58 00000076 0840            LSRS             R0,#1       ;
   59 00000078 D3F8            BCC              Released    ;
   60 0000007A 0840            LSRS             R0,#1       ;
   61 0000007C D3F6            BCC              Released    ; If it is not open
                                                            
   62 0000007E 0840            LSRS             R0,#1       ;
   63 00000080 D3F4            BCC              Released    ;   
   64 00000082         
   65 00000082 2D01            CMP              R5, #1
   66 00000084 D005            BEQ              CW
   67 00000086 2D02            CMP              R5, #2
   68 00000088 D00E            BEQ              CCW
   69 0000008A 2D03            CMP              R5, #3
   70 0000008C D017            BEQ              SPEEDUP
   71 0000008E 2D04            CMP              R5, #4
   72 00000090 D028            BEQ              SPEEDDOWN
   73 00000092         
   74 00000092 F004 040F 
                       CW      AND              R4,R4,#15   ;
   75 00000096 2C01            CMP              R4,#1
   76 00000098 BF0C 2408       MOVEQ            R4,#8       ;
   77 0000009C 0864            LSRNE            R4,R4,#1    ;
   78 0000009E 4626            MOV              R6,R4       ;
   79 000000A0 F7FF FFFE       BL               SignalSend
   80 000000A4 46A9            MOV              R9, R5
   81 000000A6 E032            B                DONE        ; 
   82 000000A8         
   83 000000A8 F004 040F 
                       CCW     AND              R4,R4,#15   ;
   84 000000AC 2C08            CMP              R4,#8
   85 000000AE BF0C 2401       MOVEQ            R4,#1       ;



ARM Macro Assembler    Page 3 


   86 000000B2 0064            LSLNE            R4,R4,#1    ;
   87 000000B4 4626            MOV              R6,R4       ;
   88 000000B6 F7FF FFFE       BL               SignalSend  ;
   89 000000BA 46A9            MOV              R9, R5
   90 000000BC E027            B                DONE        ;   
   91 000000BE         SPEEDUP
   92 000000BE EA5F 0A5A       LSRS             R10, R10, #1
   93 000000C2 4815            LDR              R0,=SYSCTRL
   94 000000C4 F8C0 A004       STR              R10,[R0,#4] ;store into sys_rel
                                                            oad
   95 000000C8 F8C0 A008       STR              R10,[R0,#8]
   96 000000CC F242 7010       MOV              R0, #10000
   97 000000D0 FBBA FAF0       UDIV             R10, R0
   98 000000D4 F1BA 0F20       CMP              R10, #32
   99 000000D8 BF38 F04F 
              0A20             MOVCC            R10, #32
  100 000000DE FB0A FA00       MUL              R10, R0
  101 000000E2 E014            B                DONE
  102 000000E4         SPEEDDOWN
  103 000000E4 EA5F 0A4A       LSLS             R10, R10, #1
  104 000000E8 480B            LDR              R0,=SYSCTRL
  105 000000EA F8C0 A004       STR              R10,[R0,#4] ;store into sys_rel
                                                            oad
  106 000000EE F8C0 A008       STR              R10,[R0,#8]
  107 000000F2 F248 60A0 
              F2C0 0001        MOV32            R0, #100000
  108 000000FA FBBA FAF0       UDIV             R10, R0
  109 000000FE F1BA 0F10       CMP              R10, #16
  110 00000102 BF28 F04F 
              0A10             MOVCS            R10, #16
  111 00000108 FB0A FA00       MUL              R10, R0
  112 0000010C E7FF            B                DONE
  113 0000010E         
  114 0000010E F85D EB04 
                       DONE    POP              {LR}
  115 00000112 4770            BX               LR
  116 00000114                 ALIGN
  117 00000114                 ENDP
  118 00000114                 END
              400053FC 
              E000E010 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\inputcheck.d -o.\objects\inputcheck.o -I.\RTE\_Target
_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v
5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION 
SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\inputcheck.lst In
putCheck.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CCW 000000A8

Symbol: CCW
   Definitions
      At line 83 in file InputCheck.s
   Uses
      At line 31 in file InputCheck.s
      At line 68 in file InputCheck.s

CW 00000092

Symbol: CW
   Definitions
      At line 74 in file InputCheck.s
   Uses
      At line 29 in file InputCheck.s
      At line 66 in file InputCheck.s

Check 0000000C

Symbol: Check
   Definitions
      At line 16 in file InputCheck.s
   Uses
      At line 32 in file InputCheck.s
      At line 51 in file InputCheck.s

DONE 0000010E

Symbol: DONE
   Definitions
      At line 114 in file InputCheck.s
   Uses
      At line 81 in file InputCheck.s
      At line 90 in file InputCheck.s
      At line 101 in file InputCheck.s
      At line 112 in file InputCheck.s

Delay100 00000032

Symbol: Delay100
   Definitions
      At line 33 in file InputCheck.s
   Uses
      At line 21 in file InputCheck.s
      At line 23 in file InputCheck.s
      At line 25 in file InputCheck.s
      At line 27 in file InputCheck.s

Released 0000006C

Symbol: Released
   Definitions
      At line 54 in file InputCheck.s
   Uses
      At line 41 in file InputCheck.s
      At line 44 in file InputCheck.s
      At line 47 in file InputCheck.s
      At line 50 in file InputCheck.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 57 in file InputCheck.s
      At line 59 in file InputCheck.s
      At line 61 in file InputCheck.s
      At line 63 in file InputCheck.s

SPEEDDOWN 000000E4

Symbol: SPEEDDOWN
   Definitions
      At line 102 in file InputCheck.s
   Uses
      At line 72 in file InputCheck.s
Comment: SPEEDDOWN used once
SPEEDUP 000000BE

Symbol: SPEEDUP
   Definitions
      At line 91 in file InputCheck.s
   Uses
      At line 70 in file InputCheck.s
Comment: SPEEDUP used once
SysTick_Handler 00000000

Symbol: SysTick_Handler
   Definitions
      At line 11 in file InputCheck.s
   Uses
      At line 7 in file InputCheck.s
Comment: SysTick_Handler used once
rutins 00000000

Symbol: rutins
   Definitions
      At line 5 in file InputCheck.s
   Uses
      None
Comment: rutins unused
10 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTB_DATA 400053FC

Symbol: GPIO_PORTB_DATA
   Definitions
      At line 1 in file InputCheck.s
   Uses
      At line 13 in file InputCheck.s
Comment: GPIO_PORTB_DATA used once
GPIO_PORTB_ICR 4000541C

Symbol: GPIO_PORTB_ICR
   Definitions
      At line 2 in file InputCheck.s
   Uses
      None
Comment: GPIO_PORTB_ICR unused
GPIO_PORTB_RIS 40005414

Symbol: GPIO_PORTB_RIS
   Definitions
      At line 3 in file InputCheck.s
   Uses
      None
Comment: GPIO_PORTB_RIS unused
SYSCTRL E000E010

Symbol: SYSCTRL
   Definitions
      At line 4 in file InputCheck.s
   Uses
      At line 93 in file InputCheck.s
      At line 104 in file InputCheck.s

4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Init_Timer 00000000

Symbol: Init_Timer
   Definitions
      At line 10 in file InputCheck.s
   Uses
      None
Comment: Init_Timer unused
SignalSend 00000000

Symbol: SignalSend
   Definitions
      At line 8 in file InputCheck.s
   Uses
      At line 79 in file InputCheck.s
      At line 88 in file InputCheck.s

delay 00000000

Symbol: delay
   Definitions
      At line 9 in file InputCheck.s
   Uses
      At line 35 in file InputCheck.s
Comment: delay used once
3 symbols
353 symbols in table
