


ARM Macro Assembler    Page 1 


    1 00000000 40038004 
                       ADC0_RIS
                               EQU              0x40038004  ; Interrupt status
    2 00000000 400380A8 
                       ADC0_SSFIFO3
                               EQU              0x400380A8  ; Channel 3 results
                                                            
    3 00000000 40038028 
                       ADC0_PSSI
                               EQU              0x40038028  ; Initiate sample
    4 00000000 4003800C 
                       ADC0_ISC
                               EQU              0x4003800C  ; ISC
    5 00000000         ;LABEL  DIRECTIVE VALUE  COMMENT
    6 00000000                 AREA             main, READONLY, CODE
    7 00000000                 THUMB
    8 00000000                 IMPORT           Init_ADC    ; Initialize subrou
                                                            tine
    9 00000000                 EXPORT           __main      ; Make available
   10 00000000         __main
   11 00000000 F7FF FFFE       BL               Init_ADC    ; GPIO & ADC initia
                                                            lized
   12 00000004 F04F 0600       MOV              R6,#0       ;
   13 00000008 4913    getsample
                               LDR              R1,=ADC0_PSSI 
                                                            ; request a sample
   14 0000000A 680A            LDR              R2,[R1]     ;
   15 0000000C F042 0208       ORR              R2,R2,#0x08 ; get a sample
   16 00000010 600A            STR              R2,[R1]     ;
   17 00000012         
   18 00000012 4912    loop    LDR              R1,=ADC0_RIS ; check for interr
                                                            up flag
   19 00000014 680A            LDR              R2,[R1]     ;
   20 00000016 F012 0208       ANDS             R2,#0x08    ;
   21 0000001A D0FA            BEQ              loop
   22 0000001C         
   23 0000001C 4910            LDR              R1,=ADC0_ISC ; clear the interr
                                                            upt flag
   24 0000001E 680A            LDR              R2,[R1]     ;
   25 00000020 F042 0208       ORR              R2,#0x08    ;
   26 00000024 600A            STR              R2,[R1]     ; Interrupt flag is
                                                             cleared
   27 00000026         
   28 00000026 490F            LDR              R1,=ADC0_SSFIFO3 ;
   29 00000028 680A            LDR              R2,[R1]     ; R2 is the data
   30 0000002A         
   31 0000002A         
   32 0000002A         move
   33 0000002A F240 40D9       MOV              R0,#1241    ; get the first dig
                                                            it
   34 0000002E FBB2 F7F0       UDIV             R7,R2,R0    ;
   35 00000032 4639            MOV              R1, R7
   36 00000034         
   37 00000034 FB01 F100       MUL              R1,R1,R0    ;
   38 00000038 EBA2 0201       SUB              R2,R2,R1    ; R2 is newed
   39 0000003C F04F 007C       MOV              R0,#124     ; get the second di
                                                            git
   40 00000040 FBB2 F8F0       UDIV             R8,R2,R0    ;
   41 00000044 4641            MOV              R1, R8



ARM Macro Assembler    Page 2 


   42 00000046         
   43 00000046 FB01 F100       MUL              R1,R1,R0    ;
   44 0000004A EBA2 0201       SUB              R2,R2,R1    ; R2 is newed
   45 0000004E F04F 000C       MOV              R0,#12      ; get the last digi
                                                            t
   46 00000052 FBB2 F9F0       UDIV             R9,R2,R0    ;
   47 00000056         
   48 00000056 E7D7            B                getsample   ;
   49 00000058         
   50 00000058         
   51 00000058                 ALIGN
   52 00000058                 END
              40038028 
              40038004 
              4003800C 
              400380A8 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\__main.d -o.\objects\__main.o -I.\RTE\_Target_1 -IC:\
Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\ARM\CM
SIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526
" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\__main.lst __main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

__main 00000000

Symbol: __main
   Definitions
      At line 10 in file __main.s
   Uses
      At line 9 in file __main.s
Comment: __main used once
getsample 00000008

Symbol: getsample
   Definitions
      At line 13 in file __main.s
   Uses
      At line 48 in file __main.s
Comment: getsample used once
loop 00000012

Symbol: loop
   Definitions
      At line 18 in file __main.s
   Uses
      At line 21 in file __main.s
Comment: loop used once
main 00000000

Symbol: main
   Definitions
      At line 6 in file __main.s
   Uses
      None
Comment: main unused
move 0000002A

Symbol: move
   Definitions
      At line 32 in file __main.s
   Uses
      None
Comment: move unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ADC0_ISC 4003800C

Symbol: ADC0_ISC
   Definitions
      At line 4 in file __main.s
   Uses
      At line 23 in file __main.s
Comment: ADC0_ISC used once
ADC0_PSSI 40038028

Symbol: ADC0_PSSI
   Definitions
      At line 3 in file __main.s
   Uses
      At line 13 in file __main.s
Comment: ADC0_PSSI used once
ADC0_RIS 40038004

Symbol: ADC0_RIS
   Definitions
      At line 1 in file __main.s
   Uses
      At line 18 in file __main.s
Comment: ADC0_RIS used once
ADC0_SSFIFO3 400380A8

Symbol: ADC0_SSFIFO3
   Definitions
      At line 2 in file __main.s
   Uses
      At line 28 in file __main.s
Comment: ADC0_SSFIFO3 used once
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Init_ADC 00000000

Symbol: Init_ADC
   Definitions
      At line 8 in file __main.s
   Uses
      At line 11 in file __main.s
Comment: Init_ADC used once
1 symbol
346 symbols in table
