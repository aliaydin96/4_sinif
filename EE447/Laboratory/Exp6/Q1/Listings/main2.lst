


ARM Macro Assembler    Page 1 


    1 00000000 20000480 
                       FIRST   EQU              0x20000480
    2 00000000         
    3 00000000         ; Timer 0,A
    4 00000000 40032000 
                       TIMER2_CFG
                               EQU              0x40032000  ;
    5 00000000 40032004 
                       TIMER2_TAMR
                               EQU              0x40032004  ;
    6 00000000 4003200C 
                       TIMER2_CTL
                               EQU              0x4003200C  ;
    7 00000000 40032018 
                       TIMER2_IMR
                               EQU              0x40032018  ;
    8 00000000 40032028 
                       TIMER2_TAILR
                               EQU              0x40032028  ;
    9 00000000 40032038 
                       TIMER2_TAPR
                               EQU              0x40032038  ;
   10 00000000 40032048 
                       TIMER2_TAR
                               EQU              0x40032048  ;
   11 00000000 40032050 
                       TIMER2_TAV
                               EQU              0x40032050  ;
   12 00000000 4003201C 
                       TIMER2_RIS
                               EQU              0x4003201C  ;
   13 00000000 40032024 
                       TIMER2_ICR
                               EQU              0x40032024  ;
   14 00000000 400FE604 
                       SYSCTL_RCGCTIMER
                               EQU              0x400FE604  ; GPTM Gate Control
                                                            
   15 00000000 40025004 
                       GPIO_DATA_F
                               EQU              0x40025004  ; PF0
   16 00000000         
   17 00000000         ;LABEL  DIRECTIVE VALUE  COMMENT
   18 00000000                 AREA             main, READONLY, CODE
   19 00000000                 THUMB
   20 00000000                 EXTERN           PULSE_INIT  ; Pulse initializat
                                                            ion 
   21 00000000                 EXPORT           __main      ; Make available
   22 00000000         
   23 00000000         __main
   24 00000000 F7FF FFFE       BL               PULSE_INIT  ; 
   25 00000004         ;Start timer clock
   26 00000004 4918            LDR              R1,=SYSCTL_RCGCTIMER ;
   27 00000006 680A            LDR              R2,[R1]     ;
   28 00000008 F042 0204       ORR              R2,R2,#0x04 ;
   29 0000000C 600A            STR              R2,[R1]     ;
   30 0000000E         ;Disable Timer
   31 0000000E 4917            LDR              R1,=TIMER2_CTL ;
   32 00000010 680A            LDR              R2,[R1]     ;



ARM Macro Assembler    Page 2 


   33 00000012 F022 0201       BIC              R2,#0x01    ;
   34 00000016 600A            STR              R2,[R1]     ;
   35 00000018         ;CFG
   36 00000018 4915            LDR              R1,=TIMER2_CFG ;
   37 0000001A 680A            LDR              R2,[R1]     ;
   38 0000001C F042 0204       ORR              R2,#0x04    ;
   39 00000020 600A            STR              R2,[R1]     ;
   40 00000022         ;TAMR   
   41 00000022 4914            LDR              R1,=TIMER2_TAMR ;
   42 00000024 680A            LDR              R2,[R1]     ;
   43 00000026 F442 7201       ORR              R2,#0x204   ; Edge Time Mode & 
                                                            Count Up
   44 0000002A 600A            STR              R2,[R1]     ;
   45 0000002C         ;ILR
   46 0000002C 4912            LDR              R1,=TIMER2_TAILR ;
   47 0000002E F64F 70FF       MOV              R0,#0xFFFF  ;
   48 00000032 6008            STR              R0,[R1]     ;
   49 00000034         ;CTL  
   50 00000034 490D            LDR              R1,=TIMER2_CTL ;
   51 00000036 680A            LDR              R2,[R1]     ;
   52 00000038 F042 020F       ORR              R2,#0x0F    ;
   53 0000003C 600A            STR              R2,[R1]     ;
   54 0000003E         ;Initialization Completed
   55 0000003E 490F            LDR              R1,=TIMER2_RIS ;
   56 00000040 680A    find    LDR              R2,[R1]     ;
   57 00000042 F002 0001       AND              R0,R2,#0x01 ;
   58 00000046 2800            CMP              R0,#0
   59 00000048 D0FA            BEQ              find        ;
   60 0000004A         ; if an edge is captured
   61 0000004A 490D            LDR              R1,=TIMER2_ICR ;
   62 0000004C 680A            LDR              R2,[R1]     ;
   63 0000004E F022 0204       BIC              R2,#0x04    ;
   64 00000052 600A            STR              R2,[R1]     ;
   65 00000054         ;Interrupt is cleaned
   66 00000054 490B            LDR              R1,=TIMER2_TAR ;
   67 00000056 4A0C            LDR              R2,=FIRST   ;
   68 00000058 6808            LDR              R0,[R1]     ;
   69 0000005A 6010            STR              R0,[R2]     ;
   70 0000005C 490B            LDR              R1,=TIMER2_TAV ;
   71 0000005E 680A            LDR              R2,[R1]     ;
   72 00000060 F002 0200       AND              R2,#0       ;
   73 00000064 600A            STR              R2,[R1]     ;
   74 00000066 E7EB            B                find        ;
   75 00000068         
   76 00000068         
   77 00000068         
   78 00000068         
   79 00000068         
   80 00000068                 ALIGN
   81 00000068                 END
              400FE604 
              4003200C 
              40032000 
              40032004 
              40032028 
              4003201C 
              40032024 
              40032048 
              20000480 



ARM Macro Assembler    Page 3 


              40032050 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\main2.d -o.\objects\main2.o -I"C:\Users\Furkan\Google
 Drive\Ders Kitaplarý-Notlar\4. Sýnýf\EE447\LAB\Exp6\Q1\RTE" -IC:\Keil_v5\ARM\P
ACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\ARM\CMSIS\Include -
-predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 521" --predefine
="TM4C123GH6PM SETA 1" --list=.\listings\main2.lst Main2.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

__main 00000000

Symbol: __main
   Definitions
      At line 23 in file Main2.s
   Uses
      At line 21 in file Main2.s
Comment: __main used once
find 00000040

Symbol: find
   Definitions
      At line 56 in file Main2.s
   Uses
      At line 59 in file Main2.s
      At line 74 in file Main2.s

main 00000000

Symbol: main
   Definitions
      At line 18 in file Main2.s
   Uses
      None
Comment: main unused
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FIRST 20000480

Symbol: FIRST
   Definitions
      At line 1 in file Main2.s
   Uses
      At line 67 in file Main2.s
Comment: FIRST used once
GPIO_DATA_F 40025004

Symbol: GPIO_DATA_F
   Definitions
      At line 15 in file Main2.s
   Uses
      None
Comment: GPIO_DATA_F unused
SYSCTL_RCGCTIMER 400FE604

Symbol: SYSCTL_RCGCTIMER
   Definitions
      At line 14 in file Main2.s
   Uses
      At line 26 in file Main2.s
Comment: SYSCTL_RCGCTIMER used once
TIMER2_CFG 40032000

Symbol: TIMER2_CFG
   Definitions
      At line 4 in file Main2.s
   Uses
      At line 36 in file Main2.s
Comment: TIMER2_CFG used once
TIMER2_CTL 4003200C

Symbol: TIMER2_CTL
   Definitions
      At line 6 in file Main2.s
   Uses
      At line 31 in file Main2.s
      At line 50 in file Main2.s

TIMER2_ICR 40032024

Symbol: TIMER2_ICR
   Definitions
      At line 13 in file Main2.s
   Uses
      At line 61 in file Main2.s
Comment: TIMER2_ICR used once
TIMER2_IMR 40032018

Symbol: TIMER2_IMR
   Definitions
      At line 7 in file Main2.s
   Uses
      None
Comment: TIMER2_IMR unused
TIMER2_RIS 4003201C




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: TIMER2_RIS
   Definitions
      At line 12 in file Main2.s
   Uses
      At line 55 in file Main2.s
Comment: TIMER2_RIS used once
TIMER2_TAILR 40032028

Symbol: TIMER2_TAILR
   Definitions
      At line 8 in file Main2.s
   Uses
      At line 46 in file Main2.s
Comment: TIMER2_TAILR used once
TIMER2_TAMR 40032004

Symbol: TIMER2_TAMR
   Definitions
      At line 5 in file Main2.s
   Uses
      At line 41 in file Main2.s
Comment: TIMER2_TAMR used once
TIMER2_TAPR 40032038

Symbol: TIMER2_TAPR
   Definitions
      At line 9 in file Main2.s
   Uses
      None
Comment: TIMER2_TAPR unused
TIMER2_TAR 40032048

Symbol: TIMER2_TAR
   Definitions
      At line 10 in file Main2.s
   Uses
      At line 66 in file Main2.s
Comment: TIMER2_TAR used once
TIMER2_TAV 40032050

Symbol: TIMER2_TAV
   Definitions
      At line 11 in file Main2.s
   Uses
      At line 70 in file Main2.s
Comment: TIMER2_TAV used once
13 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

PULSE_INIT 00000000

Symbol: PULSE_INIT
   Definitions
      At line 20 in file Main2.s
   Uses
      At line 24 in file Main2.s
Comment: PULSE_INIT used once
1 symbol
353 symbols in table
